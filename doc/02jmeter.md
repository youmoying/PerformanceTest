# Jmeter测试计划

* Jmeter一个测试脚本就是一个测试， 一个测试计划必须包括线程组，取样器
* Jmeter脚本中测试计划只能有一个，是测试脚本的根节点
* Jmeter测试计划中包含  Functional Testing的复选框，如果选择， Jmeter将记录中的每个样本从服务器返回的数据， 如果在监听器中选择文件，则测试数据被写入文件， 因此Jmeter的性能将受到影响，如果要进行压力测试，则应该禁止勾选此选项
* 测试计划可以设置变量和加入jar包

# 线程组
* 测试计划中至少有一个线程组，负载通过线程组驱动线程运行
* 可以多个线程组，不同线程组代表不同的性能测试业务，同时运行
* 线程组是Jmeter测试计划的起点，所有的控制器和取样器位于线程组下， 其他元件，如监听器可以直接放在测试计划下，这种情况，监听器元件，应将属于所有线程组 
* 线程组参数
1. 线程数：模拟用户的数量
2. Ramp-Up：如果10个线程启动， 设置100s，那么就是100s来启动10个线程，每个线程的启动将在上一个线程开始后10s开始；
3. 执行测试次数：线程组的执行次数


# 元件执行顺序和作用域

## 执行顺序
*  执行顺序： 树状结构，先执行根节点， 再执行子节点， 在同一个层次中，各元件的执行顺序逻辑如下
1. 配置元件
2. 前置处理器
3. 定时器
4. 取样器
5. 后置处理器
6. 断言
7. 监听器

* 定时器，断言，前置处理器，后置处理器，只有在使用于取样器时才会按照顺序执行
* 控制器和取样器同层次顺序执行，同类型元件按照顺序执行


### 实例

Controller测试计划
```* Post—Processor 1
* Sampler 1
* Sampler 2
* Timer 1
* Assertion 1
* Pre-Processor 1
* Timer 2
* Post-Processor 2
```

执行顺序：
```
* Pre-Processor 1
* Timer 1
* Timer 2
* Sampler 1
* Post—Processor 
* Post-Processor 2
* Assertion 1

* Pre-Processor 1
* Timer 1
* Timer 2
* Sampler 2
* Post—Processor 
* Post-Processor 2
* Assertion 1
```

## 元件的执行顺序

*  监听器，配置元件，前置处理器，后置处理器，断言，定时器元件都严格分层执行的
*  控制器和取样器是有序执行的
*  严格分层的元件，例如断言，如果父节点是请求，断言就只应用于改请求， 如果父节点是控制器，则该断言将应用于控制器内的所有请求； 

